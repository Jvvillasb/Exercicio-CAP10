create table tb_genre (id int8 generated by default as identity, name varchar(255), primary key (id));
create table tb_movie (id int8 generated by default as identity, img_url varchar(255), sub_title varchar(255), synopsis TEXT, title varchar(255), year int4, genre_id int8, primary key (id));
create table tb_review (id int8 generated by default as identity, text varchar(255), movie_id int8, user_id int8, primary key (id));
create table tb_role (id int8 generated by default as identity, authority varchar(255), primary key (id));
create table tb_user (id int8 generated by default as identity, email varchar(255), name varchar(255), password varchar(255), primary key (id));
create table tb_user_role (user_id int8 not null, role_id int8 not null, primary key (user_id, role_id));
alter table if exists tb_user add constraint UK_4vih17mube9j7cqyjlfbcrk4m unique (email);
alter table if exists tb_movie add constraint FKsgjdq7d9ajnr85pl4am109qsh foreign key (genre_id) references tb_genre;
alter table if exists tb_review add constraint FKmnmhbadmg8ugakn8q89rh5k3l foreign key (movie_id) references tb_movie;
alter table if exists tb_review add constraint FKqeh83gbufxg1ft0ubwn7w0tty foreign key (user_id) references tb_user;
alter table if exists tb_user_role add constraint FKea2ootw6b6bb0xt3ptl28bymv foreign key (role_id) references tb_role;
alter table if exists tb_user_role add constraint FK7vn3h53d0tqdimm8cp45gc0kl foreign key (user_id) references tb_user;
INSERT INTO tb_user (name,email,password) VALUES ('Bob','bob@gmail.com', '$2a$10$eACCYoNOHEqXve8aIWT8Nu3PkMXWBaOxJ9aORUYzfMQCbVBIhZ8tG');
INSERT INTO tb_user (name,email,password) VALUES ('Ana','ana@gmail.com', '$2a$10$eACCYoNOHEqXve8aIWT8Nu3PkMXWBaOxJ9aORUYzfMQCbVBIhZ8tG');
INSERT INTO tb_role (authority) VALUES ('ROLE_VISITOR');
INSERT INTO tb_role (authority) VALUES ('ROLE_MEMBER');
INSERT INTO tb_user_role (user_id, role_id) VALUES (1, 1);
INSERT INTO tb_user_role (user_id, role_id) VALUES (2, 2);
insert into tb_genre(name) values('Ação');
insert into tb_genre(name) values('Terror');
insert into tb_genre(name) values('Ficção');
insert into tb_genre(name) values('Drama');
insert into tb_movie(title,sub_title,synopsis,year,img_url,genre_id)values('Mad Max','Estrada da Fúria','Em um mundo pós-apocalíptico, Max Rockatansky acredita que a melhor forma de sobreviver é não depender de ninguém. Porém, após ser capturado pelo tirano Immortan Joe e seus rebeldes, Max se vê no meio de uma guerra mortal iniciada pela Imperatriz Furiosa, que tenta salvar um grupo de garotas. Também tentando fugir, Max aceita ajudar Furiosa.',2015,'https://i.pinimg.com/originals/d2/97/ef/d297ef138ada728e62a6ba3af4cb734b.jpg',1);
insert into tb_movie(title,sub_title,synopsis,year,img_url,genre_id)values('Cloud Atlas','Tudo está conectado','Várias histórias são desenroladas em diferentes linhas de tempo, mas mesmo sendo independentes e se desenvolvendo ao longo de cinco séculos, todas estão relacionadas e algumas têm impacto sobre outras, entrelaçando drama, mistério, ação e amor',2012,'https://cdn.suwalls.com/wallpapers/movies/cloud-atlas-15499-1920x1200.jpg',4);
insert into tb_movie(title,sub_title,synopsis,year,img_url,genre_id)values('Jurassic Park - I','Parque dos Dinossauros','Os paleontólogos Alan Grant, Ellie Sattler e o matemático Ian Malcolm fazem parte de um seleto grupo escolhido para visitar uma ilha habitada por dinossauros criados a partir de DNA pré-histórico. O idealizador do projeto e bilionário John Hammond garante a todos que a instalação é completamente segura. Mas após uma queda de energia, os visitantes descobrem, aos poucos, que vários predadores ferozes estão soltos e à caça.',1993,'https://cdn.hipwallpaper.com/i/56/16/AgsQwa.jpg',3);
insert into tb_movie(title,sub_title,synopsis,year,img_url,genre_id)values('Jurassic Park - II','O Mundo Perdido','John Hammond chama o teórico do caos Ian Malcolm à sua casa para dar algumas notícias aterradoras: enquanto quase tudo em Jurassic Park foi destruído, seus engenheiros parecem ter um segundo local, onde outros dinossauros estão escondidos. Aparentemente, os dinossauros na segunda ilha estão vivos e bem e até se acasalando. Hammond quer que Malcolm observe e documente as criaturas antes que mercenários cheguem até eles.',1997,'https://wallpapercave.com/wp/wp2900695.jpg',3);
insert into tb_movie(title,sub_title,synopsis,year,img_url,genre_id)values('Jurassic Park - III','','O agora famoso paleontólogo Alan Grant é convencido por um rico empresário e a mulher dele a realizar uma excursão aérea pela Ilha Sorna. Nela, dinossauros clonados vivem em liberdade e são estudados no ambiente natural. Mas um acidente com o avião faz com que o grupo de sete pessoas fique encalhado na perigosa ilha. Cercados por carnívoros famintos, os visitantes tentam escapar do lugar e salvar suas próprias vidas.',2001,'https://wallpaper-house.com/data/out/10/wallpaper2you_461177.jpg',3);
insert into tb_movie(title,sub_title,synopsis,year,img_url,genre_id)values('Donnie Darko','Why are you wearing that stupid man suit?','Donnie é um jovem excêntrico que despreza a grande maioria de seus colegas de escola. Ele tem visões, em especial de Frank, um coelho gigante que só ele consegue ver e que o encoraja a fazer brincadeiras humilhantes com quem o cerca. Um dia, uma de suas visões o atrai para fora de casa e lhe diz que o mundo acabará dentro de um mês. Donnie inicialmente não acredita, mas, momentos depois, a turbina de um avião cai em sua casa e ele começa a se perguntar qual é o fundo de verdade dessa previsão.',2001,'https://cdn.maioresemelhores.com/imagens/maiores-curiosidades-sobre-donnie-darko-og.jpg',2);
insert into tb_movie(title,sub_title,synopsis,year,img_url,genre_id)values('O Senhor dos Anéis','A Sociedade do Anel','Em uma terra fantástica e única, um hobbit recebe de presente de seu tio um anel mágico e maligno que precisa ser destruído antes que caia nas mãos do mal. Para isso, o hobbit Frodo tem um caminho árduo pela frente, onde encontra perigo, medo e seres bizarros. Ao seu lado para o cumprimento desta jornada, ele aos poucos pode contar com outros hobbits, um elfo, um anão, dois humanos e um mago, totalizando nove seres que formam a Sociedade do Anel.',2001,'https://4.bp.blogspot.com/-VfkcAVAY_WY/W-CL0VUqdVI/AAAAAAAACck/t3VPH50diRk-XDHx1cAwGV4M6FOKybtrgCLcBGAs/s1600/Filme%2BO%2BSenhor%2Bdos%2BAn%25C3%25A9is%2BA%2BSociedade%2Bdo%2BAn%25C3%25A9l%2Bvers%25C3%25A3o%2Bestendida%2Btorrent%2Bdownload%2Bdublado.png',3);
insert into tb_movie(title,sub_title,synopsis,year,img_url,genre_id)values('O Senhor dos Anéis','As Duas Torres','Após a captura de Merry e Pippy pelos orcs, a Sociedade do Anel é dissolvida. Frodo e Sam seguem sua jornada rumo à Montanha da Perdição para destruir o anel e descobrem que estão sendo perseguidos pelo misterioso Gollum. Enquanto isso, Aragorn, o elfo e arqueiro Legolas e o anão Gimli partem para resgatar os hobbits sequestrados e chegam ao reino de Rohan, onde o rei Theoden foi vítima de uma maldição mortal de Saruman.',2002,'https://wallpapersfull.com/wallpapers/2019/duas-torres-o-senhor-do-aneis-2083.jpg',3);
insert into tb_movie(title,sub_title,synopsis,year,img_url,genre_id)values('O Senhor dos Anéis','O Retorno do Rei','O confronto final entre as forças do bem e do mal que lutam pelo controle do futuro da Terra Média se aproxima. Sauron planeja um grande ataque a Minas Tirith, capital de Gondor, o que faz com que Gandalf e Pippin partam para o local na intenção de ajudar a resistência. Um exército é reunido por Theoden em Rohan, em mais uma tentativa de deter as forças de Sauron. Enquanto isso, Frodo, Sam e Gollum seguem sua viagem rumo à Montanha da Perdição para destruir o anel.',2003,'https://observatoriodocinema.uol.com.br/wp-content/uploads/2015/07/O-Senhor-dos-Aneis.jpg',3);
insert into tb_movie(title,sub_title,synopsis,year,img_url,genre_id)values('Interestelar','','As reservas naturais da Terra estão chegando ao fim e um grupo de astronautas recebe a missão de verificar possíveis planetas para receberem a população mundial, possibilitando a continuação da espécie. Cooper é chamado para liderar o grupo e aceita a missão sabendo que pode nunca mais ver os filhos. Ao lado de Brand, Jenkins e Doyle, ele seguirá em busca de um novo lar.',2014,'https://2.bp.blogspot.com/-xWXp4LQ0nVQ/VC1D2aOpFmI/AAAAAAAAAG4/fvDpivA4e_w/s1600/interstellar_new_poster.jpg',3);
insert into tb_movie(title,sub_title,synopsis,year,img_url,genre_id)values('Donnie Darko','Why are you wearing that stupid man suit?','Donnie é um jovem excêntrico que despreza a grande maioria de seus colegas de escola. Ele tem visões, em especial de Frank, um coelho gigante que só ele consegue ver e que o encoraja a fazer brincadeiras humilhantes com quem o cerca. Um dia, uma de suas visões o atrai para fora de casa e lhe diz que o mundo acabará dentro de um mês. Donnie inicialmente não acredita, mas, momentos depois, a turbina de um avião cai em sua casa e ele começa a se perguntar qual é o fundo de verdade dessa previsão.',2001,'https://cdn.maioresemelhores.com/imagens/maiores-curiosidades-sobre-donnie-darko-og.jpg',2);
insert into tb_movie(title,sub_title,synopsis,year,img_url,genre_id)values('Donnie Darko','Why are you wearing that stupid man suit?','Donnie é um jovem excêntrico que despreza a grande maioria de seus colegas de escola. Ele tem visões, em especial de Frank, um coelho gigante que só ele consegue ver e que o encoraja a fazer brincadeiras humilhantes com quem o cerca. Um dia, uma de suas visões o atrai para fora de casa e lhe diz que o mundo acabará dentro de um mês. Donnie inicialmente não acredita, mas, momentos depois, a turbina de um avião cai em sua casa e ele começa a se perguntar qual é o fundo de verdade dessa previsão.',2001,'https://cdn.maioresemelhores.com/imagens/maiores-curiosidades-sobre-donnie-darko-og.jpg',2);
insert into tb_movie(title,sub_title,synopsis,year,img_url,genre_id)values('Donnie Darko','Why are you wearing that stupid man suit?','Donnie é um jovem excêntrico que despreza a grande maioria de seus colegas de escola. Ele tem visões, em especial de Frank, um coelho gigante que só ele consegue ver e que o encoraja a fazer brincadeiras humilhantes com quem o cerca. Um dia, uma de suas visões o atrai para fora de casa e lhe diz que o mundo acabará dentro de um mês. Donnie inicialmente não acredita, mas, momentos depois, a turbina de um avião cai em sua casa e ele começa a se perguntar qual é o fundo de verdade dessa previsão.',2001,'https://cdn.maioresemelhores.com/imagens/maiores-curiosidades-sobre-donnie-darko-og.jpg',2);
insert into tb_movie(title,sub_title,synopsis,year,img_url,genre_id)values('Donnie Darko','Why are you wearing that stupid man suit?','Donnie é um jovem excêntrico que despreza a grande maioria de seus colegas de escola. Ele tem visões, em especial de Frank, um coelho gigante que só ele consegue ver e que o encoraja a fazer brincadeiras humilhantes com quem o cerca. Um dia, uma de suas visões o atrai para fora de casa e lhe diz que o mundo acabará dentro de um mês. Donnie inicialmente não acredita, mas, momentos depois, a turbina de um avião cai em sua casa e ele começa a se perguntar qual é o fundo de verdade dessa previsão.',2001,'https://cdn.maioresemelhores.com/imagens/maiores-curiosidades-sobre-donnie-darko-og.jpg',2);
insert into tb_movie(title,sub_title,synopsis,year,img_url,genre_id)values('Donnie Darko','Why are you wearing that stupid man suit?','Donnie é um jovem excêntrico que despreza a grande maioria de seus colegas de escola. Ele tem visões, em especial de Frank, um coelho gigante que só ele consegue ver e que o encoraja a fazer brincadeiras humilhantes com quem o cerca. Um dia, uma de suas visões o atrai para fora de casa e lhe diz que o mundo acabará dentro de um mês. Donnie inicialmente não acredita, mas, momentos depois, a turbina de um avião cai em sua casa e ele começa a se perguntar qual é o fundo de verdade dessa previsão.',2001,'https://cdn.maioresemelhores.com/imagens/maiores-curiosidades-sobre-donnie-darko-og.jpg',2);
insert into tb_movie(title,sub_title,synopsis,year,img_url,genre_id)values('Donnie Darko','Why are you wearing that stupid man suit?','Donnie é um jovem excêntrico que despreza a grande maioria de seus colegas de escola. Ele tem visões, em especial de Frank, um coelho gigante que só ele consegue ver e que o encoraja a fazer brincadeiras humilhantes com quem o cerca. Um dia, uma de suas visões o atrai para fora de casa e lhe diz que o mundo acabará dentro de um mês. Donnie inicialmente não acredita, mas, momentos depois, a turbina de um avião cai em sua casa e ele começa a se perguntar qual é o fundo de verdade dessa previsão.',2001,'https://cdn.maioresemelhores.com/imagens/maiores-curiosidades-sobre-donnie-darko-og.jpg',2);
insert into tb_movie(title,sub_title,synopsis,year,img_url,genre_id)values('Donnie Darko','Why are you wearing that stupid man suit?','Donnie é um jovem excêntrico que despreza a grande maioria de seus colegas de escola. Ele tem visões, em especial de Frank, um coelho gigante que só ele consegue ver e que o encoraja a fazer brincadeiras humilhantes com quem o cerca. Um dia, uma de suas visões o atrai para fora de casa e lhe diz que o mundo acabará dentro de um mês. Donnie inicialmente não acredita, mas, momentos depois, a turbina de um avião cai em sua casa e ele começa a se perguntar qual é o fundo de verdade dessa previsão.',2001,'https://cdn.maioresemelhores.com/imagens/maiores-curiosidades-sobre-donnie-darko-og.jpg',2);
insert into tb_movie(title,sub_title,synopsis,year,img_url,genre_id)values('Donnie Darko','Why are you wearing that stupid man suit?','Donnie é um jovem excêntrico que despreza a grande maioria de seus colegas de escola. Ele tem visões, em especial de Frank, um coelho gigante que só ele consegue ver e que o encoraja a fazer brincadeiras humilhantes com quem o cerca. Um dia, uma de suas visões o atrai para fora de casa e lhe diz que o mundo acabará dentro de um mês. Donnie inicialmente não acredita, mas, momentos depois, a turbina de um avião cai em sua casa e ele começa a se perguntar qual é o fundo de verdade dessa previsão.',2001,'https://cdn.maioresemelhores.com/imagens/maiores-curiosidades-sobre-donnie-darko-og.jpg',2);
insert into tb_movie(title,sub_title,synopsis,year,img_url,genre_id)values('Donnie Darko','Why are you wearing that stupid man suit?','Donnie é um jovem excêntrico que despreza a grande maioria de seus colegas de escola. Ele tem visões, em especial de Frank, um coelho gigante que só ele consegue ver e que o encoraja a fazer brincadeiras humilhantes com quem o cerca. Um dia, uma de suas visões o atrai para fora de casa e lhe diz que o mundo acabará dentro de um mês. Donnie inicialmente não acredita, mas, momentos depois, a turbina de um avião cai em sua casa e ele começa a se perguntar qual é o fundo de verdade dessa previsão.',2001,'https://cdn.maioresemelhores.com/imagens/maiores-curiosidades-sobre-donnie-darko-og.jpg',2);
insert into tb_review(text,movie_id,user_id)values('O melhor filme de ação',1,2);
insert into tb_review(text,movie_id,user_id)values('O melhor filme de ação, esperando continuação',1,2);
insert into tb_review(text,movie_id,user_id)values('Nota 1000',1,2);
insert into tb_review(text,movie_id,user_id)values('Otimo filme, com um elenco espetacular!',1,2);
